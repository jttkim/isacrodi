<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

  <constant name="struts.devMode" value="true"/>

  <package name="isacrodi" extends="struts-default">

    <interceptors>
      <interceptor name="simpleLogin" class="org.isacrodi.struts.SimpleLoginInterceptor"/>
      <interceptor-stack name="loginParamsPrepareParamsStack">
        <interceptor-ref name="simpleLogin"/>
        <interceptor-ref name="paramsPrepareParamsStack"/>
      </interceptor-stack>
    </interceptors>

    <default-interceptor-ref name="loginParamsPrepareParamsStack"/>

    <global-results>
      <result name="login" type="redirectAction">loginform_input</result>
      <result name="error">/WEB-INF/views/error.jsp</result>
    </global-results>

    <action name="loginform_input" method="input" class="org.isacrodi.struts.LoginAction">
      <interceptor-ref name="paramsPrepareParamsStack"/>
      <result name="input">/WEB-INF/views/loginform.jsp</result>
      <result name="success" type="redirectAction">welcome</result>
    </action>

    <action name="loginform" class="org.isacrodi.struts.LoginAction">
      <interceptor-ref name="paramsPrepareParamsStack"/>
      <result name="input">/WEB-INF/views/loginform.jsp</result>
      <result name="success" type="redirectAction">welcome</result>
    </action>

    <action name="logout" class="org.isacrodi.struts.LogoutAction">
      <result name="success" type="redirectAction">loginform_input</result>
    </action>

    <action name="hello" class="org.isacrodi.struts.HelloAction">
      <result>/WEB-INF/views/index.jsp</result>
    </action>

    <action name="welcome" class="org.isacrodi.struts.HelloAction">
      <result name="input">/WEB-INF/views/index.jsp</result>
      <result>/WEB-INF/views/index.jsp</result>
    </action>

    <action name="*" method="input" class="org.isacrodi.struts.HelloAction">
      <result name="input">/WEB-INF/views/index.jsp</result>
      <result>/WEB-INF/views/index.jsp</result>
    </action>

    <action name="*" class="org.isacrodi.struts.HelloAction">
      <result name="input">/WEB-INF/views/index.jsp</result>
      <result>/WEB-INF/views/index.jsp</result>
    </action>

  </package>

</struts>
